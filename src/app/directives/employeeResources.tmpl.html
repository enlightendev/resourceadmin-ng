<!-- TABS -->
<tabset>

    <tab heading="Resource Permissions">

        <div ng-show="displayMode == 'viewResourcePermissions'">
            <table class="table table-striped table-condensed">
                <thead>
                <tr>
                    <th>Resource Name</th>
                    <th>Resource Type</th>
                    <th>Permission</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="permission in permissions" ng-click="selectResourcePermission(permission)">
                    <td>{{permission.resourceName}}</td>
                    <td>{{permission.resourceType | lowercase}}</td>
                    <td>{{permission.permission | lowercase}}</td>
                    <td class="text-center">
                        <button class="btn btn-danger btn-xs" ng-click="deleteResourcePermission(permission)">
                            X
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>

            <div>
                <button class="btn btn-primary" ng-click="newResourcePermission()">New Resource Permission</button>
            </div>
        </div>

        <div ng-show="displayMode == 'editResourcePermissions'">

            <form name="resourcePermissionForm" novalidate class="form-horizontal">

                <div class="form-group">
                    <label for="permission" class="col-md-2 control-label">Permission:</label>

                    <div class="col-md-3">
                        <input name="permFilter"
                               class="form-control"
                               ng-model="permFilter"
                               placeholder="Filter the list to the right."
                               id="permFilter"/>
                    </div>

                    <div class="col-md-7">

                        <select name="permission" class="form-control" id="permission" required
                                ng-model="resourcePermission.permission"
                                ng-options="permission.permission group by permission.resourceName for permission in all_permissions | filter: {resourceName: permFilter} ">
                        </select>

                    </div>
                </div>

                <div class="form-group">
                    <label for="resourceName" class="col-md-2 control-label">Resource Name:</label>

                    <div class="col-md-10">
                        <input name="resourceName" disabled
                               class="form-control"
                               ng-model="resourcePermission.permission.resourceName"
                               disabled id="resourceName" />
                    </div>
                </div>

                <div class="form-group">
                    <label for="resourceType" class="col-md-2 control-label">Resource Type:</label>

                    <div class="col-md-10">
                        <input name="resourceType" class="form-control" ng-model="resourcePermission.permission.resourceType"
                               disabled id="resourceType"/>
                    </div>
                </div>

                <div class="form-group">
                    <label for="description" class="col-md-2 control-label">Description:</label>

                    <div class="col-md-10">
                        <input name="resourceType" class="form-control" ng-model="resourcePermission.permission.description"
                               disabled id="description"/>
                    </div>
                </div>

                <div class="form-group">
                    <label for="tags" class="col-md-2 control-label">Tags:</label>

                    <div class="col-md-10">
                        <input name="tags" class="form-control" ng-model="resourcePermission.permission.tags"
                               disabled id="tags"/>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-10 text-left">
                        <button class="btn btn-primary span5" ng-disabled="!resourcePermissionForm.$valid"
                                ng-click="saveEdit(resourcePermission)">Save
                        </button>
                        <button class="btn btn-mini span2" ng-click="cancelEdit()">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </tab>

</tabset>
